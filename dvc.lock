schema: '2.0'
stages:
  data-split:
    cmd: python3 src/data_split.py
    deps:
    - path: data/raw_data/clean_data.csv
      md5: b20c8cf632976544627b454eec4569cd
      size: 333768
    - path: src/data_split.py
      md5: d5346a51294d0b8a6f043cb38a746501
      size: 959
    params:
      params.yaml:
        data-split.seed: 42
        data-split.split: 0.2
    outs:
    - path: data/processed_data/x_test.npy
      md5: 2d112d60d739d98a1c38f2ecaa3a575c
      size: 23424
    - path: data/processed_data/x_train.npy
      md5: 084fe9b3d0ddd59d73acf1c26fad3055
      size: 93120
    - path: data/processed_data/y_test.npy
      md5: c9df630695a5479df6e10a053d80f1b8
      size: 3040
    - path: data/processed_data/y_train.npy
      md5: 75253d33076ed9bc5211e9ec8b6f22d7
      size: 11752
  normalize:
    cmd: python3 src/normalize.py
    deps:
    - path: data/processed_data/x_test.npy
      md5: 2d112d60d739d98a1c38f2ecaa3a575c
      size: 23424
    - path: data/processed_data/x_train.npy
      md5: 084fe9b3d0ddd59d73acf1c26fad3055
      size: 93120
    - path: src/normalize.py
      md5: 66d3708d2a1e129a808b8a3aca92425e
      size: 592
    outs:
    - path: data/scaling_model.pkl
      md5: c9dee1bc1761b14c472e6b107ba8eba1
      size: 728
  training:
    cmd: python3 src/training.py
    deps:
    - path: data/processed_data/x_train.npy
      md5: 084fe9b3d0ddd59d73acf1c26fad3055
      size: 93120
    - path: data/processed_data/y_train.npy
      md5: 75253d33076ed9bc5211e9ec8b6f22d7
      size: 11752
    - path: data/scaling_model.pkl
      md5: c9dee1bc1761b14c472e6b107ba8eba1
      size: 728
    - path: src/training.py
      md5: 8282267d5b654e23a4fbe2403bf034e6
      size: 1818
    params:
      params.yaml:
        training.lr: 0.1
        training.m_depth: 3
        training.min_leaf: 3
        training.min_split: 2
        training.n_est: 250
    outs:
    - path: data/gbrt_model.pkl
      md5: 8c469ee96f093e33a71e2056f1b96690
      size: 303095
  evaluate:
    cmd: python3 src/evaluate.py
    deps:
    - path: data/gbrt_model.pkl
      md5: 8c469ee96f093e33a71e2056f1b96690
      size: 303095
    - path: data/processed_data/x_test.npy
      md5: 2d112d60d739d98a1c38f2ecaa3a575c
      size: 23424
    - path: data/processed_data/y_test.npy
      md5: c9df630695a5479df6e10a053d80f1b8
      size: 3040
    - path: data/scaling_model.pkl
      md5: c9dee1bc1761b14c472e6b107ba8eba1
      size: 728
    - path: src/evaluate.py
      md5: 1d470a0b2593cc9fa92ced659410d744
      size: 727
    outs:
    - path: scores.json
      md5: 82ba5072c472a510f190f41c7fb1a585
      size: 64
